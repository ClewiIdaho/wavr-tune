<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WAVR Tune â€” Pitch Correction Engine</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wavr-tune-container">
    
    <div class="plugin-header">
      <div class="header-left">
        <div class="plugin-logo">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M2 12C2 12 4 8 6 8C8 8 8 16 10 16C12 16 12 4 14 4C16 4 16 14 18 14C20 14 22 12 22 12" 
                  stroke="url(#logoGrad)" stroke-width="2.5" stroke-linecap="round"/>
            <defs>
              <linearGradient id="logoGrad" x1="2" y1="4" x2="22" y2="16">
                <stop offset="0%" stop-color="#8B5CF6"/>
                <stop offset="100%" stop-color="#C084FC"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <div class="plugin-title">
          <h1>WAVR Tune</h1>
          <span class="subtitle">Pitch Correction Engine</span>
        </div>
      </div>
      <div class="header-right">
        <div class="status-indicator active">
          <span class="status-dot"></span>
          <span>Active</span>
        </div>
        <button class="bypass-btn" id="bypassBtn">BYPASS</button>
        <button class="close-btn">âœ•</button>
      </div>
    </div>

    <div class="pitch-display-section">
      <div class="pitch-display glass-panel">
        <canvas id="pitchCanvas" width="800" height="200"></canvas>
        <div class="pitch-info-overlay">
          <div class="current-note" id="currentNote">â€”</div>
          <div class="current-freq" id="currentFreq">0 Hz</div>
          <div class="cents-display" id="centsDisplay">
            <span class="cents-value">0</span>
            <span class="cents-label">cents</span>
          </div>
        </div>
      </div>
    </div>

    <div class="note-grid-section glass-panel">
      <div class="section-label">CHROMATIC NOTE SELECT</div>
      <div class="note-grid" id="noteGrid">
        <button class="note-btn active" data-note="C">C</button>
        <button class="note-btn" data-note="C#">C#</button>
        <button class="note-btn active" data-note="D">D</button>
        <button class="note-btn" data-note="D#">D#</button>
        <button class="note-btn active" data-note="E">E</button>
        <button class="note-btn active" data-note="F">F</button>
        <button class="note-btn" data-note="F#">F#</button>
        <button class="note-btn active" data-note="G">G</button>
        <button class="note-btn" data-note="G#">G#</button>
        <button class="note-btn active" data-note="A">A</button>
        <button class="note-btn" data-note="A#">A#</button>
        <button class="note-btn active" data-note="B">B</button>
      </div>
    </div>

    <div class="selectors-row">
      <div class="selector glass-panel">
        <label>KEY</label>
        <select id="keySelect">
          <option value="C">C</option>
          <option value="C#">C# / Db</option>
          <option value="D">D</option>
          <option value="D#">D# / Eb</option>
          <option value="E">E</option>
          <option value="F">F</option>
          <option value="F#">F# / Gb</option>
          <option value="G">G</option>
          <option value="G#">G# / Ab</option>
          <option value="A">A</option>
          <option value="A#">A# / Bb</option>
          <option value="B">B</option>
        </select>
      </div>
      <div class="selector glass-panel">
        <label>SCALE</label>
        <select id="scaleSelect">
          <option value="major">Major</option>
          <option value="minor">Natural Minor</option>
          <option value="pentatonic">Pentatonic</option>
          <option value="blues">Blues</option>
          <option value="dorian">Dorian</option>
          <option value="mixolydian">Mixolydian</option>
          <option value="chromatic">Chromatic</option>
        </select>
      </div>
      <div class="selector glass-panel">
        <label>INPUT</label>
        <select id="inputSelect">
          <option value="mic">Microphone</option>
          <option value="file">Audio File</option>
        </select>
      </div>
    </div>

    <div class="knobs-section">
      <div class="knob-group glass-panel">
        <div class="knob-wrapper">
          <div class="knob" id="correctionKnob" data-value="75" data-min="0" data-max="100">
            <div class="knob-outer">
              <div class="knob-inner">
                <div class="knob-grip"></div>
              </div>
              <svg class="knob-ring" viewBox="0 0 120 120">
                <circle class="knob-track" cx="60" cy="60" r="52"/>
                <circle class="knob-fill" cx="60" cy="60" r="52"/>
              </svg>
            </div>
          </div>
          <div class="knob-label">CORRECTION</div>
          <div class="knob-value" id="correctionValue">75%</div>
        </div>
      </div>

      <div class="knob-group glass-panel">
        <div class="knob-wrapper">
          <div class="knob" id="speedKnob" data-value="25" data-min="0" data-max="100">
            <div class="knob-outer">
              <div class="knob-inner">
                <div class="knob-grip"></div>
              </div>
              <svg class="knob-ring" viewBox="0 0 120 120">
                <circle class="knob-track" cx="60" cy="60" r="52"/>
                <circle class="knob-fill" cx="60" cy="60" r="52"/>
              </svg>
            </div>
          </div>
          <div class="knob-label">SPEED</div>
          <div class="knob-value" id="speedValue">25ms</div>
        </div>
      </div>

      <div class="knob-group glass-panel">
        <div class="knob-wrapper">
          <div class="knob" id="humanizeKnob" data-value="30" data-min="0" data-max="100">
            <div class="knob-outer">
              <div class="knob-inner">
                <div class="knob-grip"></div>
              </div>
              <svg class="knob-ring" viewBox="0 0 120 120">
                <circle class="knob-track" cx="60" cy="60" r="52"/>
                <circle class="knob-fill" cx="60" cy="60" r="52"/>
              </svg>
            </div>
          </div>
          <div class="knob-label">HUMANIZE</div>
          <div class="knob-value" id="humanizeValue">30%</div>
        </div>
      </div>

      <div class="knob-group glass-panel">
        <div class="knob-wrapper">
          <div class="knob" id="formantKnob" data-value="50" data-min="0" data-max="100">
            <div class="knob-outer">
              <div class="knob-inner">
                <div class="knob-grip"></div>
              </div>
              <svg class="knob-ring" viewBox="0 0 120 120">
                <circle class="knob-track" cx="60" cy="60" r="52"/>
                <circle class="knob-fill" cx="60" cy="60" r="52"/>
              </svg>
            </div>
          </div>
          <div class="knob-label">FORMANT</div>
          <div class="knob-value" id="formantValue">0st</div>
        </div>
      </div>

      <div class="knob-group glass-panel">
        <div class="knob-wrapper">
          <div class="knob" id="mixKnob" data-value="85" data-min="0" data-max="100">
            <div class="knob-outer">
              <div class="knob-inner">
                <div class="knob-grip"></div>
              </div>
              <svg class="knob-ring" viewBox="0 0 120 120">
                <circle class="knob-track" cx="60" cy="60" r="52"/>
                <circle class="knob-fill" cx="60" cy="60" r="52"/>
              </svg>
            </div>
          </div>
          <div class="knob-label">MIX</div>
          <div class="knob-value" id="mixValue">85%</div>
        </div>
      </div>
    </div>

    <div class="presets-section glass-panel">
      <div class="section-label">PRESETS</div>
      <div class="presets-row">
        <button class="preset-btn" data-preset="natural">
          <span class="preset-icon">ðŸŽµ</span>
          <span>Natural</span>
        </button>
        <button class="preset-btn" data-preset="soft">
          <span class="preset-icon">ðŸŽ¤</span>
          <span>Soft Snap</span>
        </button>
        <button class="preset-btn active" data-preset="modern">
          <span class="preset-icon">ðŸŽ§</span>
          <span>Modern</span>
        </button>
        <button class="preset-btn" data-preset="hardtune">
          <span class="preset-icon">ðŸ¤–</span>
          <span>Hard Tune</span>
        </button>
        <button class="preset-btn" data-preset="tpain">
          <span class="preset-icon">ðŸ’Ž</span>
          <span>T-Pain</span>
        </button>
      </div>
    </div>

    <div class="controls-footer">
      <button class="action-btn" id="startBtn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
        Start Listening
      </button>
      <button class="action-btn secondary" id="fileBtn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
        </svg>
        Load Audio
      </button>
      <input type="file" id="audioFileInput" accept="audio/*" style="display:none">
    </div>

  </div>

  <script src="js/pitch-detector.js"></script>
  <script src="js/pitch-corrector.js"></script>
  <script src="js/knob-component.js"></script>
  <script src="js/visualizer.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
